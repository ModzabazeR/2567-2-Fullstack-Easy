<script lang="ts">
  import { goto } from "$app/navigation";
  import { onMount } from "svelte";

  let status: "too-low" | "normal" | "too-high" = "normal";

  onMount(() => {
    const urlParams = new URLSearchParams(window.location.search);
    const suitableAmount = urlParams.get("suit");
    const realAmount = urlParams.get("real");

    if (!suitableAmount || !realAmount) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
      goto("/quiz");
    } else {
      const realAmountNumber = parseInt(realAmount);
      const suitableAmountNumber = parseInt(suitableAmount);
      const result = (realAmountNumber / suitableAmountNumber) * 100;

      if (result < 90) {
        status = "too-low";
      } else if (result > 110) {
        status = "too-high";
      } else {
        status = "normal";
      }
    }
  });
</script>

<main
  class="bg-[#B4E2FF] h-dvh w-full flex justify-center items-center p-8 md:p-20"
>
  <div
    class="flex justify-center items-center flex-col gap-8 bg-white w-full h-full rounded-3xl p-4 md:p-8"
  >
    {#if status === "too-low"}
      <h1 class="text-4xl font-bold text-center">
        ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥<span class="text-red-500">‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ</span>‡∏ô‡∏∞!
      </h1>
      <img src="/too-low.png" alt="too-low" class="w-48" />
      <p class="text-center w-5/6 md:w-4/6">
        ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏õ‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡∏∞! üòü
        ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠
        ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£ ‡∏•‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏™‡∏±‡∏Å‡πÅ‡∏Å‡πâ‡∏ß‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ô‡∏∞
        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á! üíß‚ú®
        ‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
        ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡∏°‡πà‡πÜ ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡∏¥‡∏î‡πÜ ‡∏ô‡∏∞!
      </p>
    {/if}

    {#if status === "normal"}
      <h1 class="text-4xl font-bold text-center">
        ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥<span class="text-green-500">‡∏û‡∏≠‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß</span>‡∏ô‡∏∞!
      </h1>
      <img src="/just-right.png" alt="just-right" class="w-48" />
      <p class="text-center w-5/6 md:w-4/6">
        ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏ß‡∏±‡∏ï‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° ü•≥üíß
        ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ
        ‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô! ‚ú® ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏ô‡∏µ‡πâ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏∞
        ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÅ‡∏´‡∏•‡∏∞!
      </p>
    {/if}

    {#if status === "too-high"}
      <h1 class="text-4xl font-bold text-center">
        ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥<span class="text-red-500">‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ</span>‡∏ô‡∏∞!
      </h1>
      <img src="/too-high.png" alt="too-high" class="w-48" />
      <p class="text-center w-5/6 md:w-4/6">
        ‡πÇ‡∏≠‡πä‡∏∞! ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏´‡∏ô‡πà‡∏≠‡∏¢ üòÖüí¶ ‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏à‡∏∞‡∏î‡∏µ‡∏ï‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
        ‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
        ‡∏≠‡∏≤‡∏à‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÅ‡∏£‡πà‡πÉ‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ô‡∏∞ üßÇ
        ‡∏•‡∏≠‡∏á‡πÅ‡∏ö‡πà‡∏á‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô
        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡∏û‡∏≠‡∏î‡∏µ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤! üíß‚ú®
      </p>
    {/if}
  </div>
</main>
